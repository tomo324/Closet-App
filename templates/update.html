{% extends 'base.html' %}

{% block head %}
<meta charset="UTF-8">
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
{% endblock %}

{% block body %}

{% with messages = get_flashed_messages() %}
    {% if messages %}
        <ul class="update-flashes">
            {% for message in messages %}
                <li class="check-file">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endwith %}

<form action="/update/{{ post.id }}" method="POST", enctype="multipart/form-data">
    <div>
        <label for="title">Title</label>
        <input type="text" name="title">
    </div>
    <div>
        <label for="detail">Detail</label>
        <input type="text" name="detail">
        <input type="file" name="file">
        <select name="category">
            <option value="tops">Tops</option>
            <option value="bottoms">Bottoms</option>
        </select><br>
        <a href="/index" rule="button">Return</a>
        <button type="submit">Update</button>
    </div>
    <p>-------------------------------------------------------------------------------</p>
    <div style="margin: auto;">
        <div>
            <p>Title: {{ post.title }}</p>
            <p>Detail: {{ post.detail }}</p>
            <p>Category: {{ post.category }}</p>
            <p>Filename: {{ image.filename }}</p>
            <img src="data:image/jpeg;base64,{{ restored_image }}" alt="{{ image.filename }}", style="width: 20%;">
        </div>
    </div>
</form>
{% endblock %}